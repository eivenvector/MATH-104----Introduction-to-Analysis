So, first things first---fuck the riemann integral.  Seriously.  The only argument pro-riemann-integral is that it is easier.  What a ridiculous argument.  This is math, dude.  If you choose to do things because they're easy, you're in the wrong subject.  Moreover, I would argue that this is not even true---if you set things up right, you can literally \emph{define} the (lebesgue) integral to be the area (measure) under the curve.  Or, if you prefer, you can take a limit over the size of a partition of the sum of the areas of the rectangles corresponding to the subsets of the partition (the riemann integral).  Are you really going to sit here and try to argue that this is easier to teach?  I call bullshit.  And besides, if you're going to become a mathematician, you have to learn the lebesgue integral at some point anyways\textellipsis why learn something only to have to relearn it later?

Okay, so now that my rant is out of the way, let's actually do some mathematics.

\section{Measure theory}

All of integration theory ultimately boils down to measure theory.  The definition of the integral itself is relatively easy.  In fact, the definition of abstract measure spaces is even easier.  There's really no question that writing down the definition of the lebesgue integral is \emph{significantly} easier than that of the riemann integral.  What is a bit tricky, however, is constructing specific measures.  In our case, we will primarily be concerned with constructing lebesgue measure (on $\R ^d$), and this is really the only part that is a bit tricky.  Before we get there though, we will present the theory of measure spaces, and then get to lebesgue measure in the next section.

The intuition behind measure is actually quite easy---a measure is just an axiomatization of our intuition about notion of things like length, area, and volume.  Before we define a measure, it will be convenient to introduce a couple of terms.

\subsection{Outer measures}

\begin{dfn}
Let $X$ be a set, let $\meas :2^X\rightarrow [0,\infty ]$, and let $\mathcal{M}\subseteq 2^X$.  
\begin{enumerate}
\item $\meas$ is \emph{subadditive}\index{Subadditive} on $\mathcal{M}$ iff for $\{ M_m:m\in \N \} \subseteq \mathcal{M}$ we have
\begin{equation}\label{5.1.2}
\meas \left( \bigcup _{m\in \N}M_m\right) \leq \sum _{m\in \N}\meas (M_m);
\end{equation}
\item $\meas$ is \emph{additive}\index{Additive (measure)} on $\mathcal{M}$ iff for $\{ M_m:m\in \N \} \subseteq \mathcal{M}$ a \emph{disjoint} collection we have
\begin{equation}\label{5.1.3}
\meas \left( \bigcup _{m\in \N}M_m\right) =\sum _{m\in \N}\meas (M_m).
\end{equation}
\end{enumerate}
$\meas$ is simply just subadditive (resp.~additive) if it is subadditive (resp.~additive) on all of $X$.
\end{dfn}
\begin{exr}\label{exr5.1.4}
Show that if $\meas$ is additive on $\mathcal{M}$ then it is subadditive on $\mathcal{M}$.
\begin{rmk}
There is something to show here.  While \eqref{5.1.3} itself is obviously a stronger condition than \eqref{5.1.2}, it is also only assumed for \emph{disjoint} collections.  The problem then is to show that, if \eqref{5.1.3} holds for disjoint collections, then \eqref{5.1.2} holds for \emph{all} collections.
\end{rmk}
\end{exr}

\begin{dfn}[Outer measure]\label{OuterMeasure}
Let $X$ be a set.  An \emph{outer measure}\index{Outer measure} on $X$ is a function $\meas :2^X\rightarrow [0,\infty ]$ such that
\begin{enumerate}
\item $\meas (\emptyset )=0$;
\item (Nondecreasing)\label{Measure.Monotonicity} $\meas :\coord{2^X,\subseteq}\rightarrow [0,\infty ]$ is nondecreasing;\footnote{Concretely, this means that $\meas (S)\leq \meas (T)$ if $S\subseteq T$.}; and
\item (Subadditivity) $\meas$ is subadditive.
\end{enumerate}
\begin{rmk}
Note that we allow the measure of sets to be infinite.  This is incredibly important---for example, we will want $\meas (\R )=\infty$ (for lebesgue measure anyways).
\end{rmk}
\begin{rmk}
As a consequence of this, we needn't worry about convergence in the third axiom (see \eqref{5.1.2}).  As a matter of fact, we definitely want to allow this sum to diverge---think about what the measure of $\bigcup _{m\in \Z}(m,m+1)$ should be.
\end{rmk}
\end{dfn}
While we will be assigning a measure to every set, not all of them we will considerable to be \emph{measurable}.  In general, we will \emph{not} have additivity; however, when we restrict our (outer) measures to the collection of measurable sets, we \emph{will} have additivity.
\begin{dfn}[Measurable]\label{Measurable}
Let $\meas :2^X\rightarrow [0,\infty ]$ be an outer-measure on a set $X$ and let $M\subseteq X$.  Then, $M$ is \emph{measurable}\index{Measurable} iff
\begin{equation}
\meas (S)=\meas (S\cap M)+\meas (S\cap M^{\comp})
\end{equation}
for all sets $S\subseteq X$.
\begin{rmk}
Think about what this means:  $M$ is chopping up $S$ into two pieces, the set of points in $M$ and the set of points not in $M$.  $M$ is measurable, then, if the measure of $S$ is the sum of the measure of these two pieces \emph{for all} $S$.  In particular, $S$ itself is definitely not required to be measurable.\footnote{For one thing, this would make the definition circular.}
\end{rmk}
\begin{rmk}
By subadditivity, we \emph{always} have that $\meas (S)\leq \meas (S\cap M)+\meas (S\cap M^{\comp})$.  Therefore, in fact, $M$ is measurable iff
\begin{equation}
\meas (S)\geq \meas (S\cap M)+\meas (S\cap M^{\comp})
\end{equation}
for all $S\subseteq X$.
\end{rmk}
\begin{rmk}
This is also what is sometimes referred to \emph{carath\'{e}odory measurable}.
\end{rmk}
\end{dfn}
\begin{exr}
Show that if $\meas (M)=0$, then all subsets of $M$ are measurable.
\end{exr}

\begin{thm}[Carath\'{e}odory's Theorem]\index{Carath\'{e}odory's Theorem}\label{CaratheodorysTheorem}
\begin{savenotes}
Let $\meas :2^X\rightarrow [0,\infty ]$ be an outer-measure.  Then,
\begin{enumerate}
\item \label{CaratheodorysTheorem.i}$\meas$ is additive on the collection of measurable sets;
\item \label{CaratheodorysTheorem.ii}the countable union of measurable sets is measurable;
\item \label{CaratheodorysTheorem.iii}the countable intersection of measurable sets is measurable;
\item \label{CaratheodorysTheorem.iv}the complement of a measurable set is measurable;
\item \label{CaratheodorysTheorem.v}$\emptyset$ and $X$ are measurable.
\end{enumerate}
\begin{rmk}
Note that \nameref{DeMorgansLaws} (\cref{DeMorgansLaws}) imply that \ref{CaratheodorysTheorem.ii} are \ref{CaratheodorysTheorem.iii} are equivalent if \ref{CaratheodorysTheorem.iv} is true, in which case together they imply \ref{CaratheodorysTheorem.v}.\footnote{Because $\emptyset =S\cap S^{\comp}$.}  A nonempty collection of sets which satisfies \ref{CaratheodorysTheorem.ii}--\ref{CaratheodorysTheorem.v} is called a \emph{$\sigma$-algebra}\index{$\sigma$-algebra}.  We do not use this language, but it is important to know for consulting other references.
\end{rmk}
\begin{proof}
\Step{Show \ref{CaratheodorysTheorem.iv}}
The definition of measurability is $S\leftrightarrow S^{\comp}$ symmetric, so \ref{CaratheodorysTheorem.iv} is automatically true.

\Step{Show \ref{CaratheodorysTheorem.v}}
The empty-set is measurable by the previous exercise, and hence by \ref{CaratheodorysTheorem.iv}, $X$ is measurable as well, which established \ref{CaratheodorysTheorem.v}.

\Step{Reduce the proof of \ref{CaratheodorysTheorem.iii} to the proof of \ref{CaratheodorysTheorem.ii}}
As was explained in a remark, we need not show \ref{CaratheodorysTheorem.iii} itself---it will now follow if we can show \ref{CaratheodorysTheorem.ii}.

\Step{Prove \ref{CaratheodorysTheorem.ii} for finite unions}
We first show that the union of finitely many measurable sets is measurable.  It suffices of course to then just show that the union of two measurable sets is measurable.  So, let $M_1,M_2\subseteq X$ be measurable and let $S\subseteq X$.  Then,
\begin{equation}
\meas (S)=\footnote{Because $M_2$ is measurable.}\meas (S\cap M_2)+\meas (S\cap M_2^{\comp})=\footnote{Because $M_1$ is measurable (applied twice).}\meas (S\cap M_2\cap M_1)+\meas (S\cap M_2\cap M_1^{\comp})+\meas (S\cap M_2^{\comp}\cap \meas _1)+\meas (S\cap M_2^{\comp}\cap M_1^{\comp})\geq \footnote{By subadditivity.}\meas (S\cap (M_1\cup M_2))+\meas (S\cap (M_1\cup M_2)^{\comp})
\end{equation}
Thus, indeed, $M_1\cup M_2$ is measurable.

\Step{Complete the proof of \ref{CaratheodorysTheorem.ii}}
Let $\{ M_m:m\in \N \}$ be a countable collection of measurable sets.  We wish to show that
\begin{equation}
\bigcup _{m\in \N}M_m
\end{equation}
is measurable.  First of all, define
\begin{equation}
M_m'\coloneqq M_m\setminus \bigcup _{k=0}^{m-1}M_k.
\end{equation}
Note that each $M_m'$ is measurable because we already know that finite unions, complements, and hence also finite interections, of measurable sets are measurable.
\begin{exr}
Show that (i) $M_m'\subseteq M_m$, (ii) the collection $\{ M_m':m\in \N \}$ is disjoint, and (iii) $\bigcup _{m\in \N}M_m=\bigcup _{m\in \N}M_m'$.
\begin{rmk}
This trick is important.  Don't forget it.
\end{rmk}
\end{exr}
Thus, as
\begin{equation}
\bigcup _{m\in \N}M_m=\bigcup _{m\in \N}M_m',
\end{equation}
it suffices to prove this step in the case where $\{ M_m:m\in \N \}$ is itself disjoint (just rename $M_m$ to now be $M_m'$).  Thus, we now without loss of generality assume that $\{ M_m:m\in \N \}$ is disjoint.

Now define
\begin{equation}
N_m\coloneqq \bigcup _{k=0}^mM_k\text{ and }N\coloneqq \bigcup _{k\in M}M_m.
\end{equation}
so that, by the previous step, we have that $N_m$ is measurable.  Thus, for $S\subseteq X$,
\begin{equation}
\meas (S\cap N_m)=\footnote{Because $E_m$ is measurable.}\meas (S\cap N_m\cap M_m)+\meas (S\cap N_m\cap M_m^{\comp})=\footnote{Because the collection $\{ M_m:m\in \N \}$ is disjoint.}\meas (S\cap M_m)+\meas (S\cap N_{m-1})=\footnote{Apply this trick inductively}\sum _{k=0}^m\meas (S\cap M_k).
\end{equation}
Thus,
\begin{equation}
\meas (S)=\meas (S\cap N_m)+\meas (S\cap N_m^{\comp})=\sum _{k=0}^m\meas (S\cap M_k)+\meas (S\cap N_m^{\comp})\geq \footnote{Because $N^{\comp}\subseteq N_m^{\comp}$.}\sum _{k=0}^m\meas (S\cap M_k)+\meas (S\cap N^{\comp}).
\end{equation}
Hence,
\begin{equation}\label{5.1.16}
\meas (S)\geq \sum _{m\in \N}\meas (S\cap M_m)+\meas (S\cap N^{\comp})\geq \meas (S\cap N)+\meas (S\cap N^{\comp}),
\end{equation}
and so indeed $N$ is measurable.

\Step{Prove \ref{CaratheodorysTheorem.i}}
Let $N$ and $S$ be as in the previous step and take $S\coloneqq N$.  Then, by \eqref{5.1.16}, we have that
\begin{equation}
\meas \left( \bigcup _{m\in \N}\right) \sum _{m\in \N}\meas (M_m).
\end{equation}
The other inequality is automatic from subadditivity, and so indeed, we have equality.
\end{proof}
\end{savenotes}
\end{thm}

\subsection{Uniform measures}

One can go ahead and develop the theory for outer measures on arbitrary sets, but in practice, we will only be working with measures defined on spaces with \emph{a lot} of extra structure.  This motivates us to investigate outer-measures on uniform spaces, in which case we are of course going to require our outer-measures to be compatible with this extra structure.
\begin{dfn}[Uniformly-measurable]\label{UniformlyMeasurable}
Let $\meas :2^X\rightarrow [0,\infty ]$ be an outer-measure on a set $X$ and let $\mathcal{U}$ is a cover of $X$.  Then, $\mathcal{U}$ is \emph{uniformly-measurable}\index{Uniformly-measurable cover} iff $\meas$ is constant on $\mathcal{U}$.
\end{dfn}
\begin{dfn}[Uniform measure]\label{UniformMeasure}
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a uniform space.  A \emph{uniform measure}\index{Uniform measure} on $X$ is an outer measure on $X$ such that
\begin{enumerate}
\item \label{UniformMeasure.i}there exists a uniform base $\widetilde{\mathcal{B}}$ of $X$ consisting of uniformly-measurable covers; and
\item \label{UniformMeasure.ii}if $S,T\subseteq X$ are uniformly-separated, then $\meas (S\cup T)=\meas (S)+\meas (T)$.
\end{enumerate}
\begin{rmk}
$\widetilde{\mathcal{B}}$ is a \emph{uniformly-measurable base} for $\coord{X,\meas}$.
\end{rmk}
\begin{rmk}
Think about what having a uniform base of uniformly-measurable covers means for a metric space---if we take as a uniform base the collection of all covers by $\varepsilon$-balls, then this is just the statement that every $\varepsilon$-ball has to have the same measure.
\end{rmk}
\begin{rmk}
Note that you definitely do not want to require \emph{every} uniform cover be uniformly-measurable.  For example, in a metric space, by upward-closedness the collection of all $\varepsilon$-balls together with a single $2\varepsilon$-ball will also be a uniform-cover---we definitely do not want to require that a $2\varepsilon$ ball has the same measure as an $\varepsilon$-ball.
\end{rmk}
\begin{rmk}
The second condition is a generalization of the defining condition of what is called a \emph{metric outer-measure}\index{Metric outer-measure}.  In particular, if $X$ is a metric space, then any uniform meausre is (by definition) a metric outer-measure.
\end{rmk}
\end{dfn}
\begin{prp}\label{prp5.1.25}
Let $\meas$ be a uniform measure on a $T_0$ uniform space $X$.  Then, if $X$ has a countable uniform base, then open and closed sets are measurable.
\begin{rmk}
By \nameref{CaratheodorysTheorem}, it thus follows that the ``$\sigma$-algeba generated by the topology'', the \emph{borel sets}\index{Borel sets}, are measurable.  In particular, $F_\sigma$ and $G_\delta$ sets are measurable.
\end{rmk}
\begin{proof}As complements of measurable sets are measurable (\cref{CaratheodorysTheorem}\ref{CaratheodorysTheorem.iv}), it suffices to show that closed sets are measurable.

So, let $C\subseteq X$ be closed and let $A\subseteq X$ have finite measure.  For $\mathcal{B}\in \widetilde{\mathcal{B}}$, define
\begin{equation}
A_{\mathcal{B}}\coloneqq \{ x\in A:\mathcal{B}\text{ uniformly separates }x\text{ from }C\text{.}\right\} .
\end{equation}
We wish to show that
\begin{equation}\label{5.1.27}
A\cap C^{\comp}=\bigcup _{\mathcal{B}\in \widetilde{\mathcal{B}}A_{\matchal{B}}.
\end{equation}
So, let $x\in A\cap C^{\comp}$.  As $C$ is closed, and $X$ is uniformly-$T_3$ (because it is uniformly-completely-$T_3$ because it is $T_0$---see \cref{crl44.15}), there is a uniform cover $\mathcal{B},\mathcal{C}\in \widetilde{\mathcal{B}}$ such that $\Star _{\mathcal{B}})(x)$ and $\Star _{\mathcal{B}}(C)$ are disjoint.  Then, $x\in A_{\mathcal{B}}$.  Thus, indeed, we have \eqref{5.1.27}.

By construction, each $A_{\mathcal{B}}$ is uniformly-separated from $C$, and so we do have that
\begin{equation}
\meas (A)\geq \footnote{Because $A_{\mathcal{B}}\cup (C\cap A)\subseteq A$.}\meas (A_{\mathcal{B}}\cup (C\cap A))=\meas (A_{\mathcal{B}})+\meas (C\cap A).
\end{equation}

The statement that $\widetilde{\mathcal{B}}$ is downward-directed with respect to $\llcurlyeq$ is precisely the statement that it forms a directed set with respect to $\ggcurlyeq$, and so the map $\widetilde{\mathcal{B}}\mapsto \meas (A_{\mathcal{B}})$ is a net.  We claim that
\begin{equation}
\lim _{\mathcal{B}}\meas (A_{\mathcal{B}})=\meas (A\cap C^{\comp}).
\end{equation}
\end{proof}
\end{prp}

\begin{displayquote}
At some point in the near future, we will be doing arithmetic with $\infty$---for example, what should the measure of $\R \times \{ 0\}$ in $\R ^2$ be?  Of course, from our definition of product measures, this will turn out to be $\infty \cdot 0$.  We hence declare that
\begin{equation}
\infty \cdot 0\coloneqq 0\eqqcolon 0\cdot \infty .
\end{equation}
There are other arithmetic notions we have to technically define (e.g.~$x+\infty=\infty$), but this is the only nonobvious one.
\end{displayquote}

\begin{exm}[The zero measure]
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a uniform space and define $\meas :2^X\rightarrow [0,\infty ]$ by $\meas (S)\coloneqq 0$.  How terribly interesting.
\end{exm}
\begin{exm}[The infinite measure]
Let $\coord{X,\widetilde{\mathcal{U}}}$ be any uniform space, let $\widetilde{\mathcal{B}}$ be a uniform base no cover of which contains the empty-set, and define $\meas :2^X\rightarrow [0,\infty ]$ by
\begin{equation}
\meas (S)\coloneqq \begin{cases}0 & \text{if }S=\emptyset \\ \infty & \text{otherwise}\end{cases}.
\end{equation}
Dear god, this example is even more interesting than the last one.
\end{exm}
\begin{exm}[The counting measure]
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a discrete uniform space (so that the set which a single cover, the cover by singletons, forms a uniform base), and for $S\subseteq X$ define $\meas (S)\coloneqq \abs{S}$, that is, the cardinality of $S$.
\begin{rmk}
This is actually incredibly important, as we shall see that sums are just integrals with respect to the counting measure.
\end{rmk}
\end{exm}

\subsection{The Haar-Howe heorem}

It turns out that there is a theorem, \nameref{HaarHoweTheorem},\footnote{Warning:  This is the name I have chosen to call it, because I am unaware of another name for this result.  In particular, don't expect others to know what you're talking about if you reference this theorem by name.  (It is a generalization of the existence and essential uniqueness of haar measure, in case you are more familiar with that.)  While the proof of the result I cobbled together from other sources, the formulation of the result I found essentially in \cite{Howes}, in which he claims ``the author'' established essential uniqueness, as well as existence, which he and another mathematician (Izkowitz) estalbished independently.}  be that is quite general and will just spit out uniform measures for us.  This is how we will construct lebesgue measure.  That being said, it doesn't just work for any old uniform space.  We're going to need extra structure, as well as a couple new topological condition.
\begin{dfn}[Locally quasicompact]\label{LocallyQuasicompact}
A topological space is \emph{locally quasicompact}\index{Locally quasicompact} iff it has a neighborhood base consisting of quasicompact sets.
\begin{rmk}
In fact, this is really a `metadefinition'---replace the term ``quasicompact'' with any topological property you like, and you have a new definition.  For example, a locally connected space is one which has a neighborhood base consisting of connected sets.
\end{rmk}
\end{dfn}
\begin{exr}
Show that if a space is $T_2$ then it is locally $T_2$.  Find a counter-example to show that converse is false.
\end{exr}
\begin{exr}
Show that if a space is locally quasicompact and $T_2$, then it is locally compact.  Find a counter-example to show the converse is false.
\end{exr}
The following is the result related to locally quasicompactness that will be used in the proof of \nameref{HaarHoweTheorem}.
\begin{prp}\label{prp5.2.4}
Let $X$ be a locally compact space, let $K\subseteq X$ be quasicompact, and let $U\subseteq X$ contain $X$.  Then, there is an open set $V\subseteq X$ with compact closure such that
\begin{equation}
K\subseteq V\subseteq \Cls (V)\subseteq U.
\end{equation}
\begin{proof}
We leave this as an exercise.
\begin{exr}
Complete the proof yourself.
\end{exr}
\end{proof}
\end{prp}
The other new topological condition we will need is \emph{$\sigma$-quasicompactness}.
\begin{dfn}[$\sigma$-quasicompact]
Let $X$ be a topological space.  Then, $X$ is \emph{$\sigma$-quasicompact} iff it can be written as a countable union of quasicompact sets.
\begin{rmk}
In general topology, I tried to stay clear of `countability-conditions', mostly because they were unnecessary, and adding unnecessary conditions, even if they apply to all the examples that matter and make things considerably easier, make the results harder to remember---the more hypotheses, the more `cluttered' things get.  In measure theory, however, countability is pretty much unavoidable---it's built in to the very definition of an outer-measure.  In that regard, a condition like $\sigma$-quasicompact is sort of similar to the condition of $T_0$---you're free to assume it basically all the time if you like, because it will exclude little to no examples\footnote{Though, to be honest, this really isn't even close to the degree one can say about this with $T_0$.}, but constantly saying ``$\sigma$-quasicompact'' makes things more ``cluttered'', and so we only use it when strictly necessary.
\end{rmk}
\end{dfn}
\begin{exr}
Find an example of a locally quasicompact space that is not $\sigma$-quasicompact and an example of a $\sigma$-quasicompact spaces that is not locally quasicompact.
\end{exr}
And now for the extra structure that we references before.
\begin{dfn}[Isogeneous space]\label{IsogeneousSpace}
An \emph{isogeneous space} is a uniform space $X$ equipped with a group of uniform-homeomorphisms $H$ such that
\begin{equation}\label{5.1.28}
\widetilde{\mathcal{B}}_H\coloneqq \{ \mathcal{B}_U\} \text{ where }\mathcal{B}_U\coloneqq \{ h(U):h\in H\} \text{ and }U\subseteq X\text{ open}.
\end{equation}
is a uniform base for $X$.
\begin{rmk}
$H$ is called the \emph{group of symmetries} of $X$.  It is a subgroup of $\Aut _{\Uni}(X)$.  $\widetilde{\mathcal{B}}_H$ is the \emph{isogeneous base}\index{Isogeneous base} and each $\mathcal{B}_U$ is an \emph{isogeneous cover}\index{Isogeneous cover}.
\end{rmk}
\begin{rmk}
The example you should have in mind here is that of a topological group $G$.  In this case, the uniform base is the canonical one, $\widetilde{\mathcal{B}}\coloneqq \{ \mathcal{B}_U\}$ with $\mathcal{B}_U\coloneqq \{ gU:g\in U\}$ for $U$ an open neighborhood of the identity, and the set of all uniform homeomorphisms is the set of all left translations, $H\coloneqq \{ h_g:g\in G\}$ where $h_g(x)\coloneqq gx$.  Of course, you can also choose right-translations over left-translations (in both $\widetilde{\mathcal{B}}$ and $H$!) if you so desire.
\end{rmk}
\begin{rmk}
What do you think the morphisms of isogeneous spaces should be?
\end{rmk}
\end{dfn}
\begin{exr}
Let $G$ be a topological group and let $H\coloneqq \{ h_g:G\in G\}$, where $h_g:G\rightarrow G$ is defined by $h_g(x)\coloneqq gx$.  Show that $\coord{G,H}$ is an isogeneous space.
\end{exr}

It is perhaps unfortunate that \nameref{HaarHoweTheorem} does not work for all uniform spaces.  On the other hand, it doesn't just spit out any old uniform measure either---it spits out what are called \emph{regular measures}.
\begin{dfn}[Regular measure]\label{RegularMeasure}
Let $X$ be a topological space and let $\meas :2^X\rightarrow [0,\infty ]$ be an outer-measure.  Then, $\meas$ is \emph{regular}\index{Regular measure}
\begin{enumerate}
\item $\meas$ is finite on quasicompact subsets;
\item (Outer-regular) for $S\subseteq X$,
\begin{equation}
\meas (S)=\inf \{ \meas (U):S\subseteq U,\ U\text{ open.}\} ;\text{ and }
\end{equation}
\item (Inner-regular on open sets) for $U\subseteq X$ open,
\begin{equation}
\meas (U)=\sup \{ \meas (K):K\subseteq U,\ K\text{ quasicompact.}\} .
\end{equation}
\end{enumerate}
\end{dfn}
\begin{prp}
Let $X$ be locally compact, $\sigma$-quasicompact space and let $\meas :2^X\rightarrow [0,\infty ]$ be a regular outer-measure.  Then, $X$ is inner-regular on sets of finite measure.
\begin{rmk}
Thus, it is inner-regular on two classes of sets:  the open sets \emph{and} the sets of finite measure (so in particular, on quasicompact sets as well).
\end{rmk}
\begin{proof}
Let $S\subseteq X$ have finite measure.  Write $X=\bigcup _{m\in \N}K_m$ where $K_m\subseteq X$ is quasicompact and define $S_m\coloneqq S\cap K_m$.
\end{proof}
\end{prp}

And finally now the key result that will allow us to define basically every measure we work with in these notes (and much more).
\begin{thm}[The Haar-Howe Theorem]\index{The Haar-Howe Theorem}\label{HaarHoweTheorem}
\begin{savenotes}
Let $X$ be a $T_0$ locally quasicompact isogeneous space with symmetry group $H\subseteq \Aut _{\Uni}(X)$ and let $K\subseteq X$ be quasicompact with nonempty interior.. Then, there exists a unique regular uniform measure $\meas$ on $X$, the \emph{haar measure}\index{Haar meausre} with respect to $H$, with uniformly-measurable base $\widetilde{\mathcal{B}}_H$\footnote{See \eqref{5.1.28}.} such that $\meas (K)=1$.
\begin{rmk}
You should think of $K$ has a set with which we can `compare' all other sets to get a ``measure'' of `size'.  The condition that it be quasicompact you can think of the condition that the measure of $K$ be finite, and the condition that it have nonempty interior you can think of the condition that the measure of $K$ be positive.  If $\meas (K)$ is neither infinite nor zero, then we can `normalize' to get $\meas (K)=1$.
\end{rmk}
\begin{rmk}
Classically, the term ``haar measure'' is reserved for $G$ a $T_0$ locally quasicompact group with $H$ the set of all left-translations.  In particular, \emph{lebesgue measure} will be the haar measure for the topological group $\coord{\R ,^d+,0,-}$.\footnote{If the group is commutative, the symmetries by left translation and right translations are the same, so left vs.~right does not matter.}
\end{rmk}
\begin{proof}
\Step{Make hypotheses and introduce notation}
Suppose that $X$ has a quasicompact set $K_0$ with nonempty interior.  Denote the uniform topology on $X$ by $\mathcal{U}$ and denote the collection of all quasicompact subsets of $X$ by $\mathcal{K}$

\Step{Define $(K:U)$ for $K\in \mathcal{K}$ and $U\in \mathcal{U}$}
The cover $\mathcal{B}_U\coloneqq \{ h(U):h\in H\}$ is an open cover of $K$, and so there are a finite subcover.  Let $(K:U)$ denote the cardinality of the smallest such subcover.

\Step{Define $\mathrm{H}_U:\mathcal{K}\rightarrow \R _0^+$}
For $U\in \mathcal{U}$, define $\mathrm{H}_U:\mathcal{K}\rightarrow \R _0^+$ by
\begin{equation}
\mathrm{H}_U(K)\coloneqq \frac{(K:U)}{(K_0:U)}.\footnote{$K_0$ is nonempty, and so cannot be covered by anything empty.  Therefore, $(K_0:U)\geq 1$, and in particular, is not $0$.}
\end{equation}

\Step{Show that $\mathrm{H}_U(K)\leq (K:\Int (K_0))$}
We now check that $\mathrm{H}_U(K)\leq (K:\Int (K_0))$, that is, $(K:U)\leq (K:\Int (K_0))(K_0:U)$.  Let us temporarily write $m\coloneqq (K:\Int (K_0))$ and $n\coloneqq (K_0:U)$.  There are thus $h_1,\ldots ,h_m\in H$ such that $\{ h_1(\Int (K_0)),\ldots ,h_m(\Int (K_0))\}$ covers $K$.  There are also $h_1',\ldots ,h_n'\in H$ such that $\{ h_1(U),\ldots ,h_n(U)\}$ covers $K$.  Therefore,
\begin{equation}
K\subseteq \bigcup _{k=1}^mh_k(\Int (K_0))\subseteq \bigcup _{k=1}^mh_k(K_0)\subseteq \bigcup _{k=1}^mh_k\left( \bigcup _{l=1}^nh_l'(U)\right) =\bigcup _{k=1}^m\bigcup _{l=1}^n[h_k\circ h_l'](U)
\end{equation}
Hence, $K$ is covered by $mn$ elements of $\mathcal{B}_U$,\footnote{Here we are using the fact that $H$ is closed under composition, so that $h_k\circ h_l'\in h$.} and hence $(K:U)\leq mn\coloneqq (K:\Int (K_0))(K_0:U)$.

\Step{Define $\mathrm{H}:\mathcal{K}\rightarrow \R _0^+$}
Define $\mathcal{H}\coloneqq \prod _{K\in \mathcal{K}}[0,(K:K_0)]$.  Each $\mathrm{H}_U$ may be thought of as a point in $\mathcal{H}$, whose component at $K\in \mathcal{K}$ is $\mathrm{H}_U(K)\in [0,(K:K_0)]$.\footnote{That was sort of the point of the previous step.}  Thus, for $U\in \mathcal{U}$, let us define
\begin{equation}
C_U\coloneqq \Cls \left( \left\{ \mathrm{H}_V:\mathcal{U}\ni V\subseteq U\right\} \right) 
\end{equation}
and
\begin{equation}
\mathcal{C}\coloneqq \{ C_U:U\in \mathcal{U}\} .
\end{equation}
We wish to show that the intersection of any finitely many elements of $\mathcal{C}$ is nonempty.  Then, because $\mathcal{H}$ is quasicompact by \nameref{TychnoffsTheorem} (\cref{TychnoffsTheorem}), it will follow that the intersection over \emph{all} elements in $\mathcal{C}$ will be nonempty.

This is actually really easy, however, because for $U_1,\ldots ,U_m\in \mathcal{U}$, we have that
\begin{equation}
\mathrm{H}_{U_1\cap \cdots \cap U_m}\in \bigcap _{k=1}^mC_{U_k}.
\end{equation}
Therefore, by quasicompactness, there is some
\begin{equation}
\mathrm{H}\in \bigcap _{U\in \mathcal{U}}C_U.
\end{equation}

\Step{Show that $\mathrm{H}(K_1)\leq \mathrm{H}(K_2)$ if $K_1\subseteq K_2$}\label{Haar.4}
Let $K_1,K_2\in \mathcal{K}$ be such that $K_1\subseteq K_2$.  We first show that, for each $U\in \mathcal{U}$, $\mathrm{H}_U(K_1)\leq \mathrm{H}_U(K_2)$.  But this is trivial, because the covering of $K_2$ with $(K_2:U)$ elements of $\mathcal{B}_U$ is also a covering of $K_1$ with $(K_2:U)$ elements of $\mathcal{B}_U$, so that $(K_1:U)\leq (K_2:U)$, and hence $\mathrm{H}_U(K_1)\leq \mathrm{H}_U(K_2)$.

Thinking of elements $f$ of $\mathcal{H}$ as functions from $\mathcal{K}$ to $\R$, consider the map\footnote{For each $K_1,K_2\in \mathcal{K}$ with $K_1\subseteq K_2$, we have such a map.} that sends $f\in T$ to $f(K_2)-f(K_1)$.  This is a composition of continuous functions, and hence continuous.\footnote{The first map from $\mathcal{H}$ into $\R \times \R$ is the projection of $f\in T$ onto the $K_1^{\text{th}}$ coordinate in the first coordinate and the projection of $f\in T$ onto $K_2^{\text{th}}$ coordinate in the second coordinate.  This map is continuous because it is continuous in each coordinate.  Each coordinate is continuous because projections are continuous.  The first map is followed by the map from $\R \times \R$ into $\R$ given by subtraction, which is continuous because we know that $\coord{R,+,0,-}$ is a topological group.}  This map is also nonnegative on each $C_U$ because $\mathrm{H}_U(K_1)\leq \mathrm{H}_U(K_2)$ for each $U\in \mathcal{U}$ (we need continuity so that we know it is nonnegative on the \emph{closure} of $\{ \mathrm{H}_V:V\subseteq U\}$).  As $\meas$ is an element of each $C_U$, it follows that this map is also nonnegative at $\meas$, so that $\mathrm{H}(K_1)\leq \mathrm{H}(K_2)$.

\Step{Show that $\mathrm{H}(K_1\cup K_2)\leq \mathrm{H}(K_1)+\mathrm{H}(K_2)$}\label{Haar.5}
Let $K_1,K_2\in \mathcal{K}$.  We first show that $\mathrm{H}_U(K_1\cup K_2)\leq \mathrm{H}_U(K_1)+\mathrm{H}_U(K_2)$ for each $U\in \mathcal{U}$.  This is trivial, because a covering of $K_1$ with $(K_1:U)$ elements of $\mathcal{B}_U$ together with a covering of $K_2$ with $(K_2:U)$ elements of $\mathcal{B}_U$ is a cover of $K_1\cup K_2$ with $(K_1:U)+(K_2:U)$ elements of $\mathcal{B}_U$, so that $(K_1\cup K_2:U)\leq (K_1:U)+(K_2:U)$.  It follows that $\mathrm{H}_U(K_1\cup K_2)\leq \mathrm{H}_U(K_1)+\mathrm{H}_U(K_2)$.

Proceeding similarly as in \cref{Haar.4}, the map that sends $f\in T$ to $f(K_1)+f(K_2)-f(K_1\cup K_2)$ is continuous and nonnegative on each $C_U$, and hence is nonnegative for $\mathrm{H}\in T$.  Thus, $\mathrm{H}(K_1\cup K_2)\leq \mathrm{H}(K_1)+\mathrm{H}(K_2)$.

\Step{Show that $\mathrm{H}_U(K_1\cup K_2)=\mathrm{H}_U(K_1)+\mathrm{H}_U(K_2)$ if $K_1$ and $K_2$ are uniformly-separated}\label{Haar.8}
Let $K_1,K_2\in \mathcal{K}$ be uniformly-separated with respect to $\mathcal{B}_U$.  We have already shown that $\mathrm{H}_U(K_1\cup K_2)\leq \mathrm{H}_U(K_1)+\mathrm{H}_U(K_2)$, so it suffices to show that $\mathrm{H}_U(K_1)+\mathrm{H}_U(K_2)\leq \mathrm{H}_U(K_1\cup K_2)$.  In other words, it suffices to show that $(K_1:U)+(K_2:U)\leq (K_1\cup K_2:U)\eqqcolon m$.  Let $h_1(U),\ldots ,h_m(U)\in \mathcal{B}_U$ be a cover of $K_1\cup K_2$.  By hypothesis,\footnote{This is the definition of uniformly-separated---see \cref{UniformlySeparated}.} every single one of these can only intersect $U_1$ or $U_2$, but not both.  Thus, after relabeling if necessary, the first $k$ of these guys will form a cover of $K_1$ and the latter $m-k$ will form a cover of $K_2$.  Thus, $(K_1:U)\leq k$ and $(K_2:U)\leq m-k$, and so $(K_1:U)+(K_2:U)\leq k+(m-k)=m\coloneqq (K_1\cup K_2:U)$, which completes this step.

\Step{Define the measure $\meas$ on all open subsets of $X$}
For $U\subseteq X$ open, define
\begin{equation}\label{5.1.46}
\meas (U)\coloneqq \sup \{ \mathrm{H}(K):K\subseteq U,\ K\in \mathcal{K}\} .
\end{equation}

\Step{Extend $\meas$ to all subsets of $X$}
Now, for an arbitrary subsets $S$ of $X$, define
\begin{equation}\label{5.1.38}
\meas (S)\coloneqq \inf \{ \meas (U):S\subseteq U,\ U\in \mathcal{U}\} .
\end{equation}
\begin{exr}
Show that this agrees with \eqref{5.1.46} when $S$ is open, so that this is indeed an extension.
\end{exr}

\Step{Show that $\meas$ is an outer-measure}
\begin{exr}
Check that $\meas (\emptyset )=0$ and that $\meas$ is nondecreasing.
\end{exr}

We now check that it is subadditive.  To prove this, we will first need a lemma.
\begin{lma}
Let $X$ be $T_2$, let $K\subseteq X$ be quasicompact, and let $U_1,U_2\subseteq X$ be open and such that $K\subseteq U_1\cup U_2$.  Then, there are quasicompact subsets $K_1,K_2\subseteq X$ such that (i) $K_1\subseteq U_1$, (ii) $K_2\subseteq U_2$, and (iii) $K=K_1\cup K_2$.
\begin{proof}
We leave this as an exercise.
\begin{exr}
Complete the proof yourself.
\end{exr}
\end{proof}
\end{lma}
Having (hopefully) proved the lemma, we now show subadditivity for \emph{open} sets.  (We will then prove subadditivity in general.)  So, let $\{ U_m:m\in \N \}$ be a countable collection of open sets of X.  Let $K\subseteq \bigcup _{m\in \N}U_m$.  Then, there is some $m_K\in \N$ such that $K\subseteq \bigcup _{k=1}^{m_K}U_k$.  By applying this lemma inductively then, we may find quasicompact sets $K_1,\ldots ,K_m$ such that (i) $K_k\subseteq U_k$ for $1\leq k\leq m$ and $K=\bigcup _{k=1}^mK_k$.  Using the fact that we have already proved finite `subadditivity' (of $\mathrm{H}$) for quasicompact sets (\cref{Haar.5}), we find that
\begin{equation}
\mathrm{H}(K)\leq \sum _{k=1}^m\mathrm{H}(K_k)\leq \sum _{k=1}^m\meas (U_k)\leq \sum _{m\in \N}\meas (U_m).
\end{equation}
Taking the $\sup$ of $K$, we find that
\begin{equation}
\meas \left( \bigcup _{m\in \N}U_m\right) \coloneqq \sup \left\{ \mathrm{H}(K):K\subseteq \bigcup _{m\in \N}U_m,\ K\in \mathcal{K}\right\} \leq \sum _{m\in \N}\meas (U_m).
\end{equation}

Having proved subadditivity for open sets, we now prove it for arbitrary sets.  So, let $\{ S_m:m\in \N \}$ be an arbitrary countable collection of subsets of $X$.  If $\sum _{m\in \N}\meas (S_m)=\infty$, then there is nothing to show, and so we may as well suppose without loss of generality that $\sum _{m\in \N}\meas (S_m)<\infty$.  Let $\varepsilon >0$ and for each $m\in \N$ pick an open set $U_m$ such that (i) $S_m\subseteq U_m$ and (ii) $\meas (S_m)\leq \meas (U_m)<\meas (S_m)+\frac{\varepsilon}{2^m}$.  Then, using subadditivity for open sets, we find
\begin{equation}
\meas \left( \bigcup _{m\in \N}S_m\right) \leq \meas \left( \bigcup _{m\in \N}U_m\right) \leq \sum _{m\in \N}\meas (U_m)<\sum _{m\in \N}\left[ \meas (S_m)+\tfrac{\varepsilon}{2^m}\right] =\sum _{m\in \N}\meas (S_m)+2\varepsilon .
\end{equation}
Hence, as $\varepsilon >0$ was arbitrary, we have that
\begin{equation}
\meas \left( \bigcup _{m\in \N}S_m\right) \leq \sum _{M\in \N}\meas (S_m).
\end{equation}
Thus, $\meas$ is an outer-measure on $X$.

\Step{Show that each $\mathcal{B}_U$ is uniformly-measurable with respect to $\meas$}
Let $h\in H$.  We want to show that $\meas (h(U))=\meas (U)$.  Then, for any other $h'\in H$, we will have that $\meas (h(U))=\meas (U)=\meas (h'(U))$, so that indeed every element of $\mathcal{B}_U$ has the same measure.  However, $K$ is a quasicompact set contained in $U$ iff $h(K)$ is a quasicompact set contained in $h(U)$.\footnote{This implicitly uses the fact that $h^{-1}\in H$.}  Therefore, by the definition of $\meas (U)$ \eqref{5.1.46} it suffices to show that $\mathrm{H}(K)=\mathrm{H}(h(K))$.  To show this, we first show that $\mathrm{H}_U(K)=\mathrm{H}_U(h(K))$ for all $U\in \mathcal{U}$.  That is, we would like to show that $(K:U)=(h(K):U)$.  However, every cover of $K$ by elements of $\mathcal{B}_U$, $h_1(U),\ldots ,h_m(U)$, gives a cover of $h(K)$ by elements of $\mathcal{B}_U$ of the same cardinality, $h(h_1(U)),\ldots ,h(h_m(U))$.  It thus follows that $\mathrm{H}_U(K)=\mathrm{H}_U(h(K))$.

For $h\in H$ fixed, consider the map from $\mathcal{H}$ to $\R$ that sends $f$ to $f(h(K))-f(K)$.  We just showed that this is $0$ on each $\mathrm{H}_U\in T$, and so it is $0$ on $C_U$, and so it is $0$ on $\mathrm{H}$, that is, $\mathrm{H}(K)=\mathrm{H}(h(K))$.

\Step{Show that if $S$ and $T$ are uniformly-separated, then $\meas (S\cup T)=\meas (S)+\meas (T)$}
Note that we always have that $\meas (S\cup T)\leq \meas (S)+\meas (T)$, and so it suffices to show that $\meas (S\cup T)\geq \meas (S)+\meas (T)$.

We first prove this for open sets.  So, let $U,V\in \mathcal{U}$.  If either $U$ or $V$ s has infinite measure, then this equation just reads $\infty =\infty$, and is so automatically satisfied.  Thus, without loss of generality, assume that $\meas (U),\meas (V)<\infty$.  Let $\varepsilon >0$.  Then, there is are some $K,L\in \mathcal{K}$ such that $K\subseteq U$, $L\subseteq V$, and
\begin{equation}
\meas (U)-\varepsilon <\mathrm{H}(K)\leq \meas (U)\text{ and }\meas (V)-\varepsilon <\mathrm{H}(L)\leq \meas (V).
\end{equation}
If $U$ and $V$ are uniformly-separated, then certainly $K$ and $L$ are uniformly-separated, and so by \cref{Haar.8}, we have that
\begin{equation}
\mathrm{H}(K\cup L)=\mathrm{H}(K)+\mathrm{H}(L),
\end{equation}
and so
\begin{equation}
\meas (U\cup V)\geq \mathrm{H}(K\cup L)=\mathrm{H}(K)+\mathrm{H}(L)>\meas (U)+\meas (V)-2\varepsilon .
\end{equation}
Hence, $\meas (U\cup V)\geq \meas (U)+\meas (V)$.

We now do the general case.  Once again, if either $S$ or $T$ has infinite measure, we are done, so we may as well suppose that $\meas (S),\meas (T)<\infty$.

Our first order of business it to show that there are \emph{some} open sets containing $S$ and $T$ respectively which are uniformly-separated.

Look at any open cover $\mathcal{B}$ which positively-separates $S$ and $T$, and take an open star-refinement $\mathcal{C}$ of this\footnote{Note that every $\mathcal{B}_U$ is an open cover, so there is no need to say ``open'' here---it is just to clarify.  We don't write $\mathcal{B}_U$ to simplify the notation (and also because we will want to write $U$ for something else).}.  Define $U\coloneqq \Star _{\mathcal{C}}(S)$ and $V\coloneqq \Star _{\mathcal{C}}(T)$.  We wish to show that $U$ and $V$ are uniformly-separated with respect to $\mathcal{C}$.  Because $\mathcal{B}$ positively-separates $S$ and $T$, by definition (see \cref{UniformlySeparated}), we have that $\Star _{\mathcal{B}}(S)$ and $\Star _{\mathcal{B}}(T)$ are disjoint.  Therefore, it suffices to show that $\Star _{\mathcal{C}}(U)\subseteq \Star _{\mathcal{B}}(S)$ (and similarly for $V$).  So, suppose that $C\in \mathcal{C}$ intersects $U$.  Then, by definition of $U$, it must intersect some element $C'\in \mathcal{C}$ which intersects $S$.  Let $B\in \mathcal{B}$ be such that $\Star _{\mathcal{C}}(C')\subseteq B$.  We then have that
\begin{equation}
C\subseteq \footnote{Because $C$ and $C'$ intersect.}\Star _{\mathcal{C}}(C')\subseteq B\subseteq \footnote{Because $B$ contains $C'$, which intersects $S$.}\Star _{\mathcal{B}}(S).
\end{equation}
Thus, indeed, $\Star _{\mathcal{C}}(U)\subseteq \Star _{\mathcal{B}}(S)$.

So, let $U,V\in \mathcal{U}$ be open sets containing $S$ and $T$ respectively which are uniformly-separated.  Let $\varepsilon >0$, and choose $W\in \mathcal{U}$ that contains $S\cup T$ and satisfies
\begin{equation}
\meas (S\cup T)\leq \meas (W)<\meas (S\cup T)+\varepsilon .
\end{equation}
Let us replace $U$ and $V$ by $U\cap W$ and $V\cap W$---upon doing so, it will still be the case that $U,V\in \mathcal{U}$, it will still be the case that $S\subseteq U$ and $T\subseteq V$, and it will still be the case that $U$ and $V$ are uniformly-separated, but now we will also have that $\meas (U\cup V)\leq \meas (W)$.  Now we have
\begin{equation}
\meas (W)<\meas (S\cup T)+\varepsilon \leq \meas (S)+\meas (T)+\varepsilon \leq \meas (U)+\meas (V)+\varepsilon =\meas (U\cup V)+\varepsilon \leq \meas (W)+\varepsilon .
\end{equation}
Thus, we do indeed have that
\begin{equation}
\meas (S\cup V)=\meas (S)+\meas (T).
\end{equation}

In particular, we have now shown that $\widetilde{\mathcal{B}}_H$ is a uniformly-measurable base for $\meas$ and that $\meas$ is additive for uniformly-separated sets, so that indeed $\meas$ us a uniform measure on $X$.

It remains to show that $\meas$ is regular.

\Step{Show that $\mathrm{H}(K)\leq \meas (K)$}
Let $U\in \mathcal{U}$ contain $K$.  Then, by the definition of $\meas (U)$, \eqref{5.1.46}, we have that $\mathrm{H}(K)\leq \meas (U)$.  Taking the infimum over all such $U$, we obtain $\mathrm{H}(K)\leq \meas (K)$.

\Step{Show that $\meas$ is regular}
The first thing we check is that $\meas (K)<\infty$ for $K$ quasicompact.  By \cref{prp5.2.4}, there is some open $U\subseteq X$ containing $K$ with compact closure.  Hence, for $K\subseteq K'\subseteq U$, with $K'$ quasicompact, we have
\begin{equation}
\mathrm{H}(K')\leq \mathrm{H}(\Cls (U))<\infty .\footnote{Recall that $\mathrm{H}$ is always finite, by definition.}
\end{equation}
Taking the supremum over such $K'$, we have that $\meas (U)\leq \mathrm{H}(\Cls (U))$, and so, as $\meas (K)\leq \meas (U)$ (because $\meas$ is an outer-measure), $\meas (K)$ is finite.

$\meas$ is outer-regular by definition \eqref{5.1.38}.

We now turn to inner-regular on open subsets.  This is \emph{almost} true by the definition \eqref{5.1.46}, but we don't have $\mathrm{H}(K)=\meas (K)$.  However, we actually don't need this---we only ned $\mathrm{H}(K)\leq \meas (K)$.  To show this, let $U\in \mathcal{U}$ contain $K$.  Then, by the definition of $\meas (U)$, \eqref{5.1.46}, we have that $\mathrm{H}(K)\leq \meas (U)$.  Taking the infimum over all such $U$, we obtain $\mathrm{H}(K)\leq \meas (K)$.

Thus, $\meas$ is regular.

\Step{Show that $\meas (K_0)=1$}
First of all, from the definition, we have that $\mathrm{H}_U(K_0)=1$ for all $U\in \mathcal{U}$.  Perhaps we could try harder and that we already do have that $\meas (K_0)=1$; however, this enough is to show simply that $\meas (K_0)>0$, and so by simply dividing by $\meas (K_0)$ if necessary, we obtain a regular uniform measure with uniformly-measurable base $\widetilde{\mathcal{B}}_H$ and $\meas (K_0)=1$.

\Step{Show that $\meas$ is unique}
Let $\meas '$ be another regular uniform measure on $X$ with uniformly-measurable base $\widetilde{\mathcal{B}}_H$ and $\meas (K_0)=1$.  As both $\meas$ and $\meas '$ are outer-regular, it suffices to show that they agree on open sets.  Then, because they are both inner-regular on open sets, it suffices to show that they both agree on quasicompact subsets.  However, on account of \cref{prp5.2.4} and outer-regularity, it in turn suffices to show that they agree on open sets with compact closure.
\end{proof}
\end{savenotes}
\end{thm}
So, first things first---fuck the riemann integral.  Seriously.  The only argument pro-riemann-integral is that it is easier.  What a ridiculous argument.  This is math, dude.  If you choose to do things because they're easy, you're in the wrong subject.  Moreover, I would argue that this is not even true---if you set things up right, you can literally \emph{define} the (lebesgue) integral to be the area (measure) under the curve.  Or, if you prefer, you can take a limit over the size of a partition of the sum of the areas of the rectangles corresponding to the subsets of the partition (the riemann integral).  Are you really going to sit here and try to argue that this is easier to teach?  I call bullshit.  And besides, if you're going to become a mathematician, you have to learn the lebesgue integral at some point anyways\textellipsis why learn something only to have to relearn it later?

Okay, so now that my rant is out of the way, let's actually do some mathematics.

\section{Measure theory}

All of integration theory ultimately boils down to measure theory.  The definition of the integral itself is relatively easy.  In fact, the definition of abstract measure spaces is even easier.  There's really no question that writing down the definition of the lebesgue integral is \emph{significantly} easier than that of the riemann integral.  What is a bit tricky, however, is constructing specific measures.  In our case, we will primarily be concerned with constructing lebesgue measure (on $\R ^d$), and this is really the only part that is a bit tricky.  Before we get there though, we will present the theory of measure spaces, and then get to lebesgue measure in the next section.

The intuition behind measure is actually quite easy---a measure is just an axiomatization of our intuition about notion of things like length, area, and volume.  Before we define a measure, it will be convenient to introduce a couple of terms.
\begin{dfn}
Let $X$ be a set, let $\meas :2^X\rightarrow [0,\infty ]$, and let $\mathcal{M}\subseteq 2^X$.  
\begin{enumerate}
\item If $\mathcal{U}$ is a cover of $X$ on which $\meas$ is constant, then we say that $\mathcal{U}$ is \emph{uniformly-measurable}\index{Uniformly-measurable cover} with respect to $\meas$ and we denote by $\meas (\mathcal{U})$ its constant value on $\mathcal{U}$;
\item $\meas$ is \emph{subadditive}\index{Subadditive} on $\mathcal{M}$ iff for $\{ M_m:m\in \N \} \subseteq \mathcal{M}$ we have
\begin{equation}
\meas \left( \bigcup _{m\in \N}M_m\right) \leq \sum _{m\in \N}\meas (M_m);
\end{equation}
\item $\meas$ is \emph{additive}\index{Additive (measure)} on $\mathcal{M}$ iff for $\{ M_m:m\in \N \} \subseteq \mathcal{M}$ a \emph{disjoint} collection we have
\begin{equation}
\meas \left( \bigcup _{m\in \N}M_m\right) =\sum _{m\in \N}\meas (M_m).
\end{equation}
\end{enumerate}
$\meas$ is simply just subadditive (resp.~additive) if it is subadditive (resp.~additive) on all of $X$.
\end{dfn}
\begin{dfn}[Measure]\label{Measure}
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a uniform space.  A \emph{measure}\index{measure} on $X$ is a function $\meas :2^X\rightarrow [0,\infty ]$ for which there exists a uniform base $\widetilde{\mathcal{B}}$ of $X$ consisting of uniformly-measurable covers (with respect to $\meas$) such that
\begin{enumerate}
\item \label{Measure.i}$\meas (\emptyset )=0$;
\item (Nondecreasing)\label{Measure.Monotonicity} $\meas :\coord{2^X,\subseteq}\rightarrow [0,\infty ]$ is nondecreasing;\footnote{Concretely, this means that $\meas (S)\leq \meas (T)$ if $S\subseteq T$.}
\item (Subadditivity) $\meas$ is subadditive;
\item (Additivity on uniformly-measurable covers) $\meas$ is additive on $\bigcup _{\mathcal{B}\in \widetilde{\mathcal{B}}}\mathcal{B}$.
\end{enumerate}
\begin{rmk}
Think about what having a uniform base of uniformly-measurable covers means for a metric space---if we take as a uniform base the collection of all covers by $\varepsilon$-balls, then this is saying that every $\varepsilon$-ball has to have the same measure.
\end{rmk}
\begin{rmk}
Note that you definitely do not want to require \emph{every} uniform cover be uniformly-measurable.  For example, in a metric space, by upward-closedness the collection of all $\varepsilon$-balls together with a single $2\varepsilon$-ball will also be a uniform-cover---we definitely do not want to require that a $2\varepsilon$ ball has the same measure as an $\varepsilon$-ball.
\end{rmk}
\begin{rmk}
Note that we allow the measure of sets to be infinite.  This is incredibly important---for example, we will want $\meas (\R )=\infty$ (for lebesgue measure anyways).
\end{rmk}
\begin{rmk}
As a consequence of this, we needn't worry about convergence in the third axiom.  As a matter of fact, we definitely want to allow this sum to diverge---think about what the measure of $\bigcup _{m\in \Z}(m,m+1)$ should be.
\end{rmk}
\begin{rmk}
Warning:  This is completely nonstandard.  I have never seen this definition before.  Keep this in mind when consulting other references.  That being said, a function that satisfies the first, second, and third axioms is usually referred to as an \emph{outer-measure}\index{Outer-measure}.
\end{rmk}
\end{dfn}
\begin{displayquote}
At some point in the near future, we will be doing arithmetic with $\infty$---for example, what should the measure of $\R \times \{ 0\}$ in $\R ^2$ be?  Of course, from our definition of product measures, this will turn out to be $\infty \cdot 0$.  We hence declare that
\begin{equation}
\infty \cdot 0\coloneqq 0\eqqcolon 0\cdot \infty .
\end{equation}
There are other arithmetic notions we have to technically define (e.g.~$x+\infty=\infty$), but this is the only nonobvious one.
\end{displayquote}
\begin{exm}[The zero measure]
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a uniform space and define $\meas :2^X\rightarrow [0,\infty ]$ by $\meas (S)\coloneqq 0$.  How terribly interesting.
\end{exm}
\begin{exm}[The counting measure]
Let $\coord{X,\widetilde{\mathcal{U}}}$ be a discrete uniform space (so that the set which a single cover, the cover by singletons, forms a uniform base), and for $S\subseteq X$ define $\meas (S)\coloneqq \abs{S}$, that is, the cardinality of $S$.
\begin{rmk}
This is actually incredibly important, as we shall see that sums are just integrals with respect to the counting measure.
\end{rmk}
\end{exm}
Before we get to any examples more interesting than this, we will first have to develop a bit of theory.
\begin{prp}
Let $\meas$ be a measure on a uniform space $X$ with uniformly-measurable base $\widetilde{\mathcal{B}}$ and let $\mathcal{B},\mathcal{C}\in \widetilde{\mathcal{B}}$.  Then, if $\mathcal{B}\preceq \mathcal{C}$ (and in particular if $\mathcal{B}\llcurly \mathcal{C}$), then $\meas (\mathcal{B})\leq \meas (\mathcal{C})$.
\begin{proof}
Let $B\in \mathcal{B}$.  Then, there is some $C\in \mathcal{C}$ be such that $B\subseteq C$.  Thus, we have
\begin{equation}
\meas (\mathcal{B})\coloneqq \meas (B)\leq \meas (C)\eqqcolon \meas (\mathcal{C}).
\end{equation}
\end{proof}
\end{prp}
Our first relatively significant result, which we shall use to define lebesgue measure on $\R ^d$, is that, to define a measure, it suffices to define a measure on just the sets in a given uniform base.
\begin{thm}[Carath\'{e}odory's Extension Theorem]\label{CaratheodorysExtensionTheorem}
Let $X$ be a uniform space with uniform base $\widetilde{\mathcal{B}}$ and let $\meas :\bigcup _{\mathcal{B}\in \widetilde{\mathcal{B}}}\mathcal{B}\rightarrow [0,\infty ]$ be such that
\begin{enumerate}
\item $\meas (\emptyset )=0$;
\item every $\mathcal{B}\in \widetilde{\mathcal{B}}$ is uniformly-measurable with respect to $\meas$; and
\item $\meas$ is additive on $\bigcup _{\mathcal{B}\in \widetilde{\mathcal{B}}}\mathcal{B}$.
\end{enumerate}
Then, there exists a unique measure on $X$ which agrees with $\meas$ on $\bigcup _{\mathcal{B}\in \widetilde{\mathcal{B}}}\mathcal{B}$.  Furthermore, $\meas$ satisfies the property that, for $S,T\subseteq X$, if there exists a cover $\mathcal{B}\in \widetilde{\mathcal{B}}$ of which no element intersects both $S$ and $T$, then
\begin{equation}
\meas (S\cup T)=\meas (S)+\meas (T).
\end{equation}
\begin{rmk}
These are just verbatim the two three axioms of a measure.  The point is that, to define a measure, it suffices to define them on sets coming from a given uniform base.  Furthermore, you also do not have to check subadditivity of your original definition.
\end{rmk}
\begin{rmk}
Once again, to understand the last ``Furthermore, \textellipsis'', think about what this means for metric spaces.  This says that there is some $\varepsilon >0$ so that no $\varepsilon$-ball intersects both sets.  Thus, in this sense, the two sets are at least $\varepsilon >0$ distance apart.  Thus, the general statement is still to be interpreted as the statement that the two sets are `positively-separated'.
\end{rmk}
\begin{proof}
\Step{Construct the measure}
Let $S\subseteq X$ and define
\begin{equation}
\begin{split}
\meas _{\mathcal{B}}(S) & \coloneqq \inf \left\{ \sum _{m\in \N}\meas (B_m):\right. \\
& \qquad \left. S\subseteq \bigcup _{m\in \N}B_m\text{ and  each }B_m\in \mathcal{C}\text{ for some }\mathcal{C}\in \widetilde{\mathcal{B}}\text{ such that }\mathcal{C}\llcurly \mathcal{B}\right\} .
\end{split}
\end{equation}

The statement that $\widetilde{\mathcal{B}}$ is a uniform base just means that it is downward-directed with respect to star-refinement.  In other words, it means that it is a \emph{directed set} with respect to \emph{reverse} star-refinement.  Thus,
\begin{equation}
\widetilde{\mathcal{B}}\ni \mathcal{B}\mapsto \meas _{\mathcal{B}}(S)\in [0,\infty ]
\end{equation}
is a net.  Furthermore, it is nondecreasing, because as $\mathcal{B}$ becomes smaller, the set you are taking the infimum over becomes smaller (there will be less covers that star-refine it, and so the infimum itself becomes bigger.  Thus, by the \nameref{MonotoneConvergenceTheorem} (\cref{MonotoneConvergenceTheorem}),\footnote{If it is bounded above, it converges in $\R$.  It it's not bounded above, it converges to $\infty$.}  we can define
\begin{equation}
\breve{\meas}(S)\coloneqq \lim _{\mathcal{B}}\meas _{\mathcal{B}}(S).
\end{equation}
(The breve is there to distinguish it from what we started with.  Once we show they agree, we will drop it.)

\Step{Show that this agrees with what we started with}
Let $B\in \mathcal{B}$.  We must show that $\breve{\meas (B)}=\meas(\mathcal{B})$.  First of all, $B\in \mathcal{B}$ is a cover of itself, and therefore $\meas _{\mathcal{B}}(B)\leq \meas (B)$.
\end{proof}
\end{thm}

\begin{dfn}[Uniformly-bounded]\label{UniformlyBounded}
Let $X$ be a uniform space, let $\mathcal{U}_0$ be a cover, and for every $U\in \mathcal{U}_0$ and uniform cover $\mathcal{U}$ let $(U:\mathcal{U})$ denote the cardinality of the smallest subcover of $U$ coming from $\mathcal{U}$.\footnote{In particular, if $\mathcal{U}_0$ is a cover of quasicompact sets, this number will always be finite.}  Then, $\mathcal{U}_0$ is \emph{uniformly-bounded}\index{Uniformly-bounded cover} iff $\sup _{U\in \mathcal{U}_0}\{ (U,\mathcal{U})\} <\infty$ for every uniform cover $\mathcal{U}$.
\begin{rmk}
As always, think about what this means in metric spaces---this is saying that a cover is uniformly-bounded iff for every $\varepsilon >0$ there is some number $m_0\in \Z ^+$ so that you can cover every element of $\mathcal{U}_0$ with at most $m_0$ $\varepsilon$-balls.  In particular, the diameter of every element of $\mathcal{U}_0$ has diameter less than $2\varepsilon m_0$.
\end{rmk}
\end{dfn}
\begin{thm}
Let $X$ be a uniform space and let $\widetilde{\mathcal{B}}$ be a uniform base for $X$.  Then, if $X$ admits a uniform cover of quasicompact sets that is uniformly-bounded with respect to $\widetilde{\mathcal{B}}$, then $X$ admits a measure for which every element of $\widetilde{\mathcal{B}}$ is a uniformly-measurable cover.
\begin{rmk}
If $G$ is a topological group and has a quasicompact neighborhood of the identity, then both the left and right translates of this neighborhood yield a uniform cover of quasicompact subsets that is uniformly-bounded with the standard uniform bases on $G$ of left and right translates of neighborhoods of the identity.  In this traditional case, the resulting measure is called a \emph{haar measure}\index{Haar measure}.
\end{rmk}
\end{thm}